# HOTSLogs (this is probably out of date, see readme in parent repository)

Follow these instructions to set up your development environment.

## Get repos from Github, and put them in this folder structure

* root
* * hotslogs-aux (https://github.com/starkiller-llc/hotslogs-aux.git)
* * hotslogs-site (https://github.com/starkiller-llc/hotslogs-site.git)

To run the website locally, you need Redis and MySql, for which there are two alternatives:

1. Use Docker - faster and easier
2. Install locally (by far the worse option - not going into it in detail)

## Using Docker

See [docker/README.md](https://github.com/starkiller-llc/hotslogs-site/blob/90aa15cd9f71212f105b07d8430cb35f96060ee4/docker/README.md)

**Note:** The database image is built with schema and sample data.

## Installing Locally

### Install Redis

This is used to cache statistics that are generated by 'HOTSWindowsService'

Nothing important is saved in Redis - you can always wipe this database and let 'HOTSWindowsService' regenerate statistics

However, it can take days to regenerate all statistics on the production Hotslogs database

Download `dump.rdb` from the [GDrive folder](https://drive.google.com/drive/folders/1Yxd8EZgjQLxAZEir6T5sutNiKzoLjOc0?usp=sharing), and use that as the initial database.

### Install MySql 8.0.21

Get the installer package, not just the server

When installing, pick the developer defaults options.  I think that's the default for all options.

The main parts we need, which the above options give us, are MySql server, MySql Workbench, and .NET connector

### Set up Hotslogs database schema

Download `schema.sql` and `HotslogsSlice` from the [GDrive folder](https://drive.google.com/drive/folders/1Yxd8EZgjQLxAZEir6T5sutNiKzoLjOc0?usp=sharing).

Open MySql Workbench, connect to our new localhost server, and select `Server -> Data Import` from the menu. First import `schema.sql` and then import the folder `HotslogsSlice`.

The data includes all replays played during the month between 7-May-2021 and 7-June-2021, along with all associated data (users, players, etc.)

## Install Visual Studio 2019 Community

You'll need support for ASP.NET web forms.  This may or may not be part of the default options

If not, it should prompt you to set it up when you try to open the Hotslogs solution

### Open the main 'HeroesReplays.sln' solution file in Visual Studio

Make sure you've first cloned both this repo and `CASCExplorer` as siblings in the same parent directory (see above).

### Build and run the 'Heroes.WebApplication' project in VS
